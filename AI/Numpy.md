
**NumPy 是用于 Python 中科学计算的一个基础包。它提供了一个多维度的数组对象，以及针对数组对象的各种快速操作。**

## Numpy数组和python列表的区别
1.Python 中的列表可以动态地改变，而 NumPy 数组是不可以的，它在创建时就有固定大 小了。改变 Numpy 数组长度的话，会新创建一个新的数组并且删除原数组。

2.NumPy 数组中的数据类型必须是一样的，而列表中的元素可以是多样的。

3.NumPy 针对 NumPy 数组一系列的运算进行了优化，使得其速度特别快，并且相对于 Python 中的列表，同等操作只需使用更少的内存。

## 创建数组
最简单的方法就是把一个列表传入到 **np.array()** 或 **np.asarray()** 中，这个列表可以是任意 维度的。np.array() 属于深拷贝，np.asarray() 则是浅拷贝。

## 深拷贝（副本）与浅拷贝（视图）
简单来说，浅拷贝或称视图，指的是与原数组共享数据的数组，请注意，只是数据，没有说共享形状。视图我们通常使用 view() 来创建。常见的切片操作也会返回对原数组的浅拷贝。

而深拷贝又称副本，也就是完全复制原有数组，创建一个新的数组，修改新的数组不会影 响原数组。深拷贝使用 copy() 方法。

## 数组的属性
##### ndim
ndim 表示数组维度（或轴）的个数。

##### shape
shape 表示数组的维度或形状， 是一个整数的元组，元组的长度等于 ndim。

在实际的工作当中，我们经常需要对数组的形状进行变换，就可以使用 **arr.reshape()** 函 数，在不改变数组元素内容的情况下变换数组的形状。但是你需要注意的是，变换前与变换后数组的元素个数需要是一样的。

我们还可以使用 **np.reshape(a, newshape, order)** 对数组 a 进行 reshape，新的形状在 newshape 中指定。

这里需要注意的是，reshape 函数有个 order 参数，它是指以什么样的顺序读写元素，其 中有这样几个参数。

‘C’：默认参数，使用类似 C-like 语言（行优先）中的索引方式进行读写。

‘F’：使用类似 Fortran-like 语言（列优先）中的索引方式进行读写。

‘A’：原数组如果是按照‘C’的方式存储数组，则用‘C’的索引对数组进行 reshape，否则使用’F’的索引方式。

reshape 的过程你可以这样理解，首先需要根据指定的方式 (‘C’或’F’) 将原数组展 开，然后再根据指定的方式写入到新的数组中。

##### size
size，也就是数组元素的总数，它就等于 shape 属性中元素的乘积。

##### dtype
它是一个描述数组中元素类型的对象。使用 dtype 属性可以查看数组所属的数据类型。

NumPy 中大部分常见的数据类型都是支持的，例如 int8、int16、int32、float32、 float64 等。dtype 是一个常见的属性，在创建数组，数据类型转换时都可以看到它。

如果没有指定数据类型，NumPy 会自动进行判断，然后给一个默认的数据类型。

数组的数据类型当然也可以改变，我们可以使用 astype() 改变数组的数据类型，不过改变数据类型会创建一个新的数组，而不是改变原数组的数据类型。

但是，**不能通过直接修改数据类型来修改数组的数据类型**，这样代码虽然不 会报错，但是数据会发生改变。

## 其他创建数组的方式
##### np.ones() 
np.ones() 用来创建一个全 1 的数组，必须参数是指定数组的形状，可选参数是数组的数据类型。

##### np.zeros()
创建一个全 0 的数组，用法与 np.ones() 类似。

##### np.arange()
使用 np.arange([start, ]stop, [step, ]dtype=None) 创建一个在[start, stop) 区间的数组，元素之间的跨度是 step。

start 是可选参数，默认为 0。stop 是必须参数，区间的终点，请注意，刚才说的区间是一 个左闭右开区间，所以数组并不包含 stop。step 是可选参数，默认是 1。

##### np.linspace()
用 np.linspace（start, stop, num=50, endpoint=True, retstep=False, dtype=None）创建一个数组，具体就是创建一个从开始数值到结束数值的等差数列。

start：必须参数，序列的起始值。 
stop：必须参数，序列的终点。 
num：序列中元素的个数，默认是 50。 
endpoint：默认为 True，如果为 True，则数组最后一个元素是 stop。 
retstep：默认为 False，如果为 True，则返回数组与公差。

np.arange 与 np.linspace 也是比较常见的函数，比如你要作图的时候，可以用它们生成x轴的坐标。

## 数组的轴
**axis** 参数非常常见，不光光出现在 sum 与 max，还有很多其他的**聚合函数**也会用到，例如 min、mean、argmin（求最小值下标）、argmax（求最大值下标）等。

## 索引与切片
NumPy 数组的索引方式与 Python 的列表的索引方式相同，也同样支持切片索引。

在 NumPy 数组中经常会出现用冒号来检索数据的形式`im_pillow[:, :, 0]`

## 数组的拼接
NumPy 数组为我们提供了 np.concatenate((a1, a2, …), axis=0) 方法进行数组拼接。其 中，a1，a2, …就是我们要合并的数组；axis 是我们要沿着哪一个维度进行合并，默认是沿 着 0 轴方向。

## 给Numpy增加维度
方法一：使用 np.newaxis

方法二：直接赋值

## Argmax Vs Argmin：求最大 / 最小值对应的索引
NumPy 的 argmax(a, axis=None) 方法可以为我们解决求最大值索引的问题。如果不指定 axis，则将数组默认为 1 维。

Argmin 的用法跟 Argmax 差不多，不过它的作用是获得具有最小值的索引。

## Argsort：数组排序后返回原数组的索引
np.argsort 的作用是对原数组进行从小到大的排序，返回的是对应元素在原数组中的索引。

np.argsort 包括后面这几个关键参数：
- a 是要进行排序的原数组；
- axis 是要沿着哪一个轴进行排序，默认是 -1，也就是最后一个轴；
- kind 是采用什么算法进行排序，默认是快速排序，还有其他排序算法，具体你可以看看 数据结构的排序算法。

## Numpy的使用
![[Pasted image 20220921193847.png]]
将图片分别用 Pillow 与 OpenCV 读 入，然后转换为 NumPy 的数组，Pillow 读入后通道的顺序就是 R、G、B，而 OpenCV 读入后 顺序是 B、G、R。



